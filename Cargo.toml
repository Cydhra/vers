[package]
name = "vers-vecs"
version = "1.3.1"
edition = "2021"
authors = ["Johannes \"Cydhra\" Hengstler"]
description = "A collection of succinct data structures supported by fast implementations of rank and select queries."
readme = "readme.md"
repository = "https://github.com/Cydhra/vers"
license = "MIT OR Apache-2.0"
keywords = ["succinct", "elias-fano", "bitvector", "rank", "select"]
categories = ["data-structures", "algorithms"]
exclude = [
    "images/*",
]

[dependencies]
serde = { version = "1.0", optional = true, features = ["derive"] }
rkyv = { version = "0.7.44", optional = true, default-features = false, features = ["std"] }
bytecheck = { version = "0.7.0", optional = true }

[dev-dependencies]
# benchmarking
criterion = { version = "0.5.1", features = ["html_reports"] }
rand = { version = "0.8", features = ["alloc"] }
rkyv = { version = "0.7.44", default-features = true }

[features]
simd = []
docsrs = [] # special feature for docs.rs to enable doc_auto_cfg on nightly
validation = ["bytecheck", "rkyv", "rkyv/validation"]

[[bench]]
name = "rank"
harness = false

[[bench]]
name = "select"
harness = false

[[bench]]
name = "select_iter"
harness = false

[[bench]]
name = "select_adversarial"
harness = false

[[bench]]
name = "sparse_equals"
harness = false

[[bench]]
name = "elias_fano"
harness = false

[[bench]]
name = "elias_fano_adversarial"
harness = false

[[bench]]
name = "rmq"
harness = false

[profile.bench]
lto = true

[package.metadata.docs.rs]
all-features = true
rustc-args = ["-C", "target-cpu=native"]
rustdoc-args = ["-C", "target-cpu=native", "--cfg", "docsrs"]
